var app=angular.module("app",[]);app.controller("mainController",function(o,t){t.get("/api/items").success(function(t){o.products=t.products.items}).error(function(o){console.log("Error: "+o)}),o.view=function(o){console.log("Redirecciono");var t=location.protocol+"//"+location.host+"/items/"+o;$(location).attr("href",t)},o.getCat=function(e){t.get("/api/categories/"+e).success(function(t){o.category=t.category.name}).error(function(o){console.log("Error: "+o)})},o.edit=function(e){t.get("/api/items/"+e).success(function(t){console.log(t),o.id=t.id,o.title=t.title,o.price=t.price,o.cantidad=t.available_quantity}).error(function(o){console.log("Error: "+o)})},o.menu=function(o){$(document).ready(function(){var t=location.protocol+"//"+location.host+"/admin/"+o;$(location).attr("href",t)})}}),app.controller("loginController",function(o,t){o.data={},o.init=function(){$(document).ready(function(){})},o.login=function(){$(document).ready(function(){console.log("Login Auth Mercadolibre");var o=location.protocol+"//"+location.host;console.log(o);var t="https://auth.mercadolibre.com.ar/authorization?response_type=code&client_id=152158119883526&redirect_uri="+(o+"/api/auth/mercadolibre/callback");console.log(t),$(location).attr("href",t)})},o.init()}),app.controller("acountController",function(o,t){t.get("/api/user").success(function(t){o.nickname=t.user.nickname,console.log(t)}).error(function(o){console.log("Error: "+o)})}),app.controller("formController",function(o,t,e,n){t.data={},t.init=function(){$(document).ready(function(){var o=getParameterByName("id");t.search=o})},t.init()}),app.controller("searchController",function(o,t,e){o.data={},o.init=function(){$(document).ready(function(){var t=getParameterByName("search");$('input[name="search"]').val(t),o.search(t)})},o.view=function(o){console.log("Redirecciono");var t=location.protocol+"//"+location.host+"/items/"+o;$(location).attr("href",t)},o.search=function(e){o.query=e,t.get('/api/items?search="'+e+'"').success(function(t){o.products=t.search.items}).error(function(o){console.log("Error: "+o)})},o.init()}),app.controller("viewController",function(o,t,e){o.data={},o.init=function(){$(document).ready(function(){var t=window.location.pathname.split("/")[2];console.log(t),o.edit(t)})},o.edit=function(e){o.title="Auricular Test",t.get("/api/items/"+e).success(function(t){console.log(t);var e=t.products.items.permalink.replace("http","https");console.log(e),o.id=t.products.items.id,o.condition=t.products.items.condition,o.sold_quantity=t.products.items.sold_quantity,o.title=t.products.items.title,o.permalink=e,o.price=t.products.items.price,o.cantidad=t.products.items.available_quantity,o.pictures=t.products.items.pictures[0].source,o.description=t.products.items.description}).error(function(o){console.log("Error: "+o)})},o.init()});var cate=getCategory("MLA72894");function getCategory(o){var t=location.protocol+"//"+location.host;console.log(t+"/api/categories/"+o),$.ajax({dataType:"json",url:t+"/api/categories/"+o,data:{},success:function(o){return o.category.name}})}function getParameterByName(o,t){t||(t=window.location.href),o=o.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function openCity(o,t){var e,n,c;for(n=document.getElementsByClassName("tabcontent"),e=0;e<n.length;e++)n[e].style.display="none";for(c=document.getElementsByClassName("tablinks"),e=0;e<c.length;e++)c[e].className=c[e].className.replace(" active","");document.getElementById(t).style.display="block",o.currentTarget.className+=" active"}console.log(cate);